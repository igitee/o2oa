MWF.xDesktop.requireApp("process.Xform","Subform",null,false);MWF.xApplication.cms.Xform.Subform=MWF.CMSSubform=new Class({Extends:MWF.APPSubform,getSubform:function(o){debugger;if(this.json.subformType==="script"){if(this.json.subformScript.code){var s=this.form.Macro.exec(this.json.subformScript.code,this);if(s){MWF.Actions.get("x_cms_assemble_control").getForm(s,function(s){this.getSubformData(s.data);if(o)o()}.bind(this))}}}else{if(this.json.subformSelected&&this.json.subformSelected!=="none"){MWF.Actions.get("x_cms_assemble_control").getForm(this.json.subformSelected,function(s){this.getSubformData(s.data);if(o)o()}.bind(this))}else{if(o)o()}}}});